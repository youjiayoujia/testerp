!function(e,t){"use strict";var n=!0,r="lily/lib/layer/",i,s,o={hosts:function(){var e=location.href.match(/\:\d+/);return e=e?e[0]:"","http://"+document.domain+e+"/"}(),getPath:function(){var e=document.scripts||i("script"),t=e[e.length-1].src;return n?t.substring(0,t.lastIndexOf("/")+1):this.hosts+r}};e.layer={v:"1.7.1",ie6:!-[1]&&!e.XMLHttpRequest,index:0,path:o.getPath(),use:function(e,t){var n=0,r=i("head")[0],e=e.replace(/\s/g,""),s=/\.css$/.test(e),o=document.createElement(s?"link":"script"),u=e.replace(/\.|\//g,"");s&&(o.setAttribute("type","text/css"),o.setAttribute("rel","stylesheet")),o.setAttribute(s?"href":"src",layer.path+e),o.setAttribute("id",u),i("#"+u)[0]||r.appendChild(o),i(o).ready(function(){t&&t()})},ready:function(e){return layer.use("skin/layer.css",e)},alert:function(e,t,n,r){return i.layer({dialog:{msg:e,type:t,yes:r},title:n,area:["auto","auto"]})},confirm:function(e,t,n,r){return i.layer({dialog:{msg:e,type:4,btns:2,yes:t,no:r},title:n})},msg:function(e,n,r,s){var o,u={title:!1,closeBtn:!1};return(e==""||e==t)&&(e="&nbsp;"),n===t&&(n=2),typeof r=="number"?o=r:(r=r||{},o=r.type,u.success=function(){layer.shift(r.rate)},u.shade=r.shade),u.time=n,u.dialog={msg:e,type:o},u.end=typeof r=="function"?r:s,i.layer(u)},load:function(e,t){return typeof e=="string"?this.msg(e,0,16):i.layer({time:e,loading:{type:t},bgcolor:t?"#fff":"",shade:[.1,"#000",t?!0:!1],border:[7,.3,"#000",t===3||!t?!1:!0],type:3,title:["",!1],closeBtn:[0,!1]})},tips:function(e,t,n,r,s,o){var u={type:4,shade:!1,success:function(e){this.closeBtn||e.find(".xubox_tips").css({"padding-right":10})},bgcolor:"",tips:{msg:e,follow:t}};return n=n||{},u.time=n.time||n,u.closeBtn=n.closeBtn||!1,u.maxWidth=n.maxWidth||r,u.tips.guide=n.guide||s,u.tips.style=n.style||o,i.layer(u)}};var u=function(e){var t=this.config;layer.index++,this.index=layer.index,this.config=i.extend({},t,e),this.config.dialog=i.extend({},t.dialog,e.dialog),this.config.page=i.extend({},t.page,e.page),this.config.iframe=i.extend({},t.iframe,e.iframe),this.config.loading=i.extend({},t.loading,e.loading),this.config.tips=i.extend({},t.tips,e.tips),this.creat()};u.pt=u.prototype,u.pt.config={type:0,shade:[.3,"#000",!0],shadeClose:!1,fix:!0,move:[".xubox_title",!0],moveOut:!1,title:["信息",!0],offset:["200px","50%"],area:["310px","auto"],closeBtn:[0,!0],time:0,bgcolor:"#fff",border:[8,.3,"#000",!0],zIndex:19891014,maxWidth:400,dialog:{btns:1,btn:["确定","取消"],type:3,msg:"",yes:function(e){layer.close(e)},no:function(e){layer.close(e)}},page:{dom:"#xulayer",html:"",url:""},iframe:{src:"http://sentsin.com"},loading:{type:0},tips:{msg:"",follow:"",guide:0,isGuide:!0,style:["background-color:#FF9900; color:#fff;","#FF9900"]},success:function(e){},close:function(e){layer.close(e)},end:function(){}},u.pt.type=["dialog","page","iframe","loading","tips"],u.pt.space=function(e){var e=e||"",t=this.index,n=this.config,r=n.dialog,i=this.dom,s=r.type===-1?"":'<span class="xubox_msg xulayer_png32 xubox_msgico xubox_msgtype'+r.type+'"></span>',o=['<div class="xubox_dialog">'+s+'<span class="xubox_msg xubox_text" style="'+(s?"":"padding-left:20px")+'">'+r.msg+"</span></div>",'<div class="xubox_page">'+e+"</div>",'<iframe allowtransparency="true" id="'+i.ifr+""+t+'" name="'+i.ifr+""+t+'" onload="$(this).removeClass(\'xubox_load\');" class="'+i.ifr+'" frameborder="0" src="'+n.iframe.src+'"></iframe>','<span class="xubox_loading xubox_loading_'+n.loading.type+'"></span>','<div class="xubox_tips" style="'+n.tips.style[0]+'"><div class="xubox_tipsMsg">'+n.tips.msg+'</div><i class="layerTipsG"></i></div>'],u="",a="",f=n.zIndex+t,l="z-index:"+f+"; background-color:"+n.shade[1]+"; opacity:"+n.shade[0]+"; filter:alpha(opacity="+n.shade[0]*100+");";n.shade[2]&&(u='<div times="'+t+'" id="xubox_shade'+t+'" class="xubox_shade" style="'+l+'"></div>'),n.zIndex=f;var c="",h="",p="z-index:"+(f-1)+";  background-color: "+n.border[2]+"; opacity:"+n.border[1]+"; filter:alpha(opacity="+n.border[1]*100+"); top:-"+n.border[0]+"px; left:-"+n.border[0]+"px;";n.border[3]&&(a='<div id="xubox_border'+t+'" class="xubox_border" style="'+p+'"></div>'),n.closeBtn[1]&&(h='<a class="xubox_close xubox_close'+n.closeBtn[0]+'" href="javascript:;"><i class="glyphicon glyphicon-remove-circle bigger-160"></i></a>'),n.title[1]&&(c='<h2 class="xubox_title"><em>'+n.title[0]+"</em></h2>");var d='<div times="'+t+'" showtime="'+n.time+'" style="z-index:'+f+'" id="'+i.lay+""+t+'" class="'+i.lay+'">'+'<div style="background-color:'+n.bgcolor+"; z-index:"+f+'" class="xubox_main">'+o[n.type]+c+h+'<span class="xubox_botton"></span>'+"</div>"+a+"</div>";return[u,d]},u.pt.dom={lay:"xubox_layer",ifr:"xubox_iframe"},u.pt.creat=function(){var e=this,t="",n=this.config,r=n.dialog,o=e.config.title,u=e.dom,a=e.index;o.constructor===Array||(e.config.title=[o,!0]),o===!1&&(e.config.title=[o,!1]);var f=n.page,l=i("body"),c=function(n){var n=n||"";t=e.space(n),l.append(t[0])};switch(n.type){case 1:if(f.html!=="")c('<div class="xuboxPageHtml">'+f.html+"</div>"),l.append(t[1]);else if(f.url!=="")c('<div class="xuboxPageHtml" id="xuboxPageHtml'+a+'">'+f.html+"</div>"),l.append(t[1]),i.get(f.url,function(e){i("#xuboxPageHtml"+a).html(e.toString()),f.ok&&f.ok(e)});else{if(i(f.dom).parents(".xubox_page").length!=0)return;c(),i(f.dom).show().wrap(t[1])}break;case 2:c(),l.append(t[1]);break;case 3:n.title=["",!1],n.area=["auto","auto"],n.closeBtn=["",!1],i(".xubox_loading")[0]&&layer.close(i(".xubox_loading").parents("."+u.lay).attr("times")),c(),l.append(t[1]);break;case 4:n.title=["",!1],n.area=["auto","auto"],n.fix=!1,n.border=!1,i(".xubox_tips")[0]&&layer.close(i(".xubox_tips").parents("."+u.lay).attr("times")),c(),l.append(t[1]),i("#"+u.lay+a).find(".xubox_close").css({top:6,right:7});break;default:n.title[1]||(n.area=["auto","auto"]),i(".xubox_dialog")[0]&&layer.close(i(".xubox_dialog").parents("."+u.lay).attr("times")),c(),l.append(t[1])}this.layerS=i("#xubox_shade"+a),this.layerB=i("#xubox_border"+a),this.layerE=i("#"+u.lay+a);var h=this.layerE;this.layerMian=h.find(".xubox_main"),this.layerTitle=h.find(".xubox_title"),this.layerText=h.find(".xubox_text"),this.layerPage=h.find(".xubox_page"),this.layerBtn=h.find(".xubox_botton");if(n.offset[1].indexOf("px")!=-1)var p=parseInt(n.offset[1]);else if(n.offset[1]=="50%")var p=n.offset[1];else var p=parseInt(n.offset[1])/100*s.width();h.css({left:p+n.border[0],width:n.area[0],height:n.area[1]}),n.fix?h.css({top:parseInt(n.offset[0])+n.border[0]}):h.css({top:parseInt(n.offset[0])+s.scrollTop()+n.border[0],position:"absolute"});if(n.title[1]&&(n.type!==3||n.type!==4)){var d=n.type===0?r:n;d.btn=n.btn||r.btn;switch(d.btns){case 0:e.layerBtn.html("").hide();break;case 1:e.layerBtn.html('<a href="javascript:;" class="xubox_yes xubox_botton1 btn btn-sm btn-primary"><i class="icon-ok"></i>'+d.btn[0]+"</a>");break;case 2:e.layerBtn.html('<a href="javascript:;" class="xubox_yes xubox_botton2 btn btn-sm btn-primary"><i class="icon-ok"></i>'+d.btn[0]+"</a>"+'<a href="javascript:;" class="xubox_no xubox_botton3 btn btn-sm btn-danger"><i class="icon-remove"></i>'+d.btn[1]+"</a>")}}h.css("left")==="auto"?(h.hide(),setTimeout(function(){h.show(),e.set(a)},500)):e.set(a),n.time<=0||e.autoclose(),this.callback()},u.pt.set=function(e){var t=this,n=t.layerE,r=t.config,o=r.dialog,u=r.page,a=r.loading,f=t.dom;t.autoArea(e),r.title[1]?layer.ie6&&t.layerTitle.css({width:n.outerWidth()}):r.type!=4&&n.find(".xubox_close").addClass("xubox_close1"),n.attr({type:t.type[r.type]});switch(r.type){case 1:n.find(u.dom).addClass("layer_pageContent"),r.shade[2]&&n.css({zIndex:r.zIndex+1}),r.title[1]&&t.layerPage.css({top:t.layerTitle.outerHeight()});break;case 2:var l=n.find("."+f.ifr),c=n.height();l.addClass("xubox_load").css({width:n.width()}),r.title[1]?l.css({top:t.layerTitle.height(),height:c-t.layerTitle.height()-40}):l.css({top:0,height:c}),layer.ie6&&l.attr("src",r.iframe.src);break;case 3:break;case 4:var h=[0,n.outerHeight()],p=i(r.tips.follow),d={width:p.outerWidth(),height:p.outerHeight(),top:p.offset().top,left:p.offset().left},v=n.find(".layerTipsG");r.tips.isGuide||v.remove(),n.outerWidth()>r.maxWidth&&n.width(r.maxWidth),d.tipColor=r.tips.style[1],h[0]=n.outerWidth(),d.where=[function(){d.tipLeft=d.left,d.tipTop=d.top-h[1]-10,v.removeClass("layerTipsB").addClass("layerTipsT").css({"border-right-color":d.tipColor})},function(){d.tipLeft=d.left+d.width+10,d.tipTop=d.top,v.removeClass("layerTipsL").addClass("layerTipsR").css({"border-bottom-color":d.tipColor})},function(){d.tipLeft=d.left,d.tipTop=d.top+d.height+10,v.removeClass("layerTipsT").addClass("layerTipsB").css({"border-right-color":d.tipColor})},function(){d.tipLeft=d.left-h[0]+10,d.tipTop=d.top,v.removeClass("layerTipsR").addClass("layerTipsL").css({"border-bottom-color":d.tipColor})}],d.where[r.tips.guide](),r.tips.guide===0?d.top-(s.scrollTop()+h[1]+16)<0&&d.where[2]():r.tips.guide===1?s.width()-(d.left+d.width+h[0]+16)>0||d.where[3]():r.tips.guide===2?d.top-s.scrollTop()+d.height+h[1]+16-s.height()>0&&d.where[0]():r.tips.guide===3&&h[0]+16-d.left>0&&d.where[1](),n.css({left:d.tipLeft,top:d.tipTop});break;default:t.layerMian.css({"background-color":"#fff"}),r.title[1]?t.layerText.css({paddingTop:18+t.layerTitle.outerHeight()}):(n.find(".xubox_msgico").css({top:8}),t.layerText.css({marginTop:11}))}r.fadeIn&&n.css({opacity:0}).animate({opacity:1},r.fadeIn),t.move()},u.pt.autoArea=function(e){var t=this,n=t.layerE,r=t.config,s=r.page,o=t.layerMian,u=t.layerBtn,a=t.layerText,f=t.layerPage,l=t.layerB,c,h,p=0,d=i(".xubox_loading");r.area[0]==="auto"&&o.outerWidth()>=r.maxWidth&&n.css({width:r.maxWidth}),r.title[1]?c=t.layerTitle.innerHeight():c=0;switch(r.type){case 0:var v=u.find("a");h=a.outerHeight()+20,v.length>0&&(p=v.outerHeight()+20);break;case 1:h=i(s.dom).outerHeight(),r.area[0]==="auto"&&n.css({width:f.outerWidth()});if(s.html!==""||s.url!=="")h=f.outerHeight();break;case 3:h=d.outerHeight(),o.css({width:d.width()})}r.area[1]==="auto"&&o.css({height:c+h+p}),l.css({width:n.outerWidth()+2*r.border[0],height:n.outerHeight()+2*r.border[0]}),layer.ie6&&r.area[0]!="auto"&&o.css({width:n.outerWidth()}),r.offset[1]!=="50%"&&r.offset[1]!=""||r.type===4?n.css({marginLeft:0}):n.css({marginLeft:-n.outerWidth()/2})},u.pt.move=function(){var e=this,t=this.config,n=e.dom,r={setY:0,moveLayer:function(){if(parseInt(r.layerE.css("margin-left"))==0)var e=parseInt(r.move.css("left"));else var e=parseInt(r.move.css("left"))+ -parseInt(r.layerE.css("margin-left"));r.layerE.css("position")!=="fixed"&&(e-=r.layerE.parent().offset().left,r.setY=0),r.layerE.css({left:e,top:parseInt(r.move.css("top"))-r.setY})}};t.move[1]&&e.layerE.find(t.move[0]).attr("move","ok"),t.move[1]?e.layerE.find(t.move[0]).css({cursor:"move"}):e.layerE.find(t.move[0]).css({cursor:"auto"}),i(t.move[0]).on("mousedown",function(e){e.preventDefault();if(i(this).attr("move")==="ok"){r.ismove=!0,r.layerE=i(this).parents("."+n.lay);var o=r.layerE.offset().left,u=r.layerE.offset().top,a=r.layerE.width()-6,f=r.layerE.height()-6;i("#xubox_moves")[0]||i("body").append('<div id="xubox_moves" class="xubox_moves" style="left:'+o+"px; top:"+u+"px; width:"+a+"px; height:"+f+'px; z-index:2147483584"></div>'),r.move=i("#xubox_moves"),t.moveType&&r.move.css({opacity:0}),r.moveX=e.pageX-r.move.position().left,r.moveY=e.pageY-r.move.position().top,r.layerE.css("position")!=="fixed"||(r.setY=s.scrollTop())}}),i(document).mousemove(function(e){if(r.ismove){var n=e.pageX-r.moveX,i=e.pageY-r.moveY;e.preventDefault();if(!t.moveOut){r.setY=s.scrollTop();var o=s.width()-r.move.outerWidth()-t.border[0],u=t.border[0]+r.setY;n<t.border[0]&&(n=t.border[0]),n>o&&(n=o),i<u&&(i=u),i>s.height()-r.move.outerHeight()-t.border[0]+r.setY&&(i=s.height()-r.move.outerHeight()-t.border[0]+r.setY)}r.move.css({left:n,top:i}),t.moveType&&r.moveLayer(),n=null,i=null,o=null,u=null}}).mouseup(function(){try{r.ismove&&(r.moveLayer(),r.move.remove()),r.ismove=!1}catch(e){r.ismove=!1}t.moveEnd&&t.moveEnd()})},u.pt.autoclose=function(){var e=this,t=this.config.time,n=function(){t--,t===0&&(layer.close(e.index),clearInterval(e.autotime))};this.autotime=setInterval(n,1e3)},o.config={end:{}},u.pt.callback=function(){var e=this,t=e.layerE,n=e.config,r=n.dialog;e.openLayer(),e.config.success(t),layer.ie6&&e.IE6(),t.find(".xubox_close").off("click").on("click",function(t){t.preventDefault(),n.close(e.index)}),t.find(".xubox_yes").off("click").on("click",function(t){t.preventDefault(),n.yes?n.yes(e.index):r.yes(e.index)}),t.find(".xubox_no").off("click").on("click",function(t){t.preventDefault(),n.no?n.no(e.index):r.no(e.index)}),this.layerS.off("click").on("click",function(t){t.preventDefault(),e.config.shadeClose&&layer.close(e.index)}),o.config.end[e.index]=n.end},u.pt.IE6=function(){var e=this,t=e.layerE,n=i("select"),r=e.dom,o=t.offset().top;if(e.config.fix)var u=function(){t.css({top:i(document).scrollTop()+o})};else var u=function(){t.css({top:o})};u(),s.scroll(u),i.each(n,function(e,t){var n=i(this);n.parents("."+r.lay)[0]||n.css("display")=="none"||n.attr({layer:"1"}).hide(),n=null}),e.reselect=function(){i.each(n,function(e,t){var n=i(this);n.parents("."+r.lay)[0]||n.attr("layer")==1&&i("."+r.lay).length<1&&n.removeAttr("layer").show(),n=null})}},u.pt.openLayer=function(){var e=this,t=e.dom;layer.autoArea=function(t){return e.autoArea(t)},layer.getIndex=function(e){return i(e).parents("."+t.lay).attr("times")},layer.getChildFrame=function(e,n){return n=n||i("."+t.ifr).parents("."+t.lay).attr("times"),i("#"+t.lay+n).find("."+t.ifr).contents().find(e)},layer.getFrameIndex=function(e){return i(e?"#"+e:"."+t.ifr).parents("."+t.lay).attr("times")},layer.iframeAuto=function(e){e=e||i("."+t.ifr).parents("."+t.lay).attr("times");var n=this.getChildFrame("body",e).outerHeight(),r=i("#"+t.lay+e),s=r.find(".xubox_title"),o=0;!s||(o=s.height()),r.css({height:n+o});var u=-parseInt(i("#xubox_border"+e).css("top"));i("#xubox_border"+e).css({height:n+2*u+o}),i("#"+t.ifr+e).css({height:n})},layer.close=function(n){var r=i("#"+t.lay+n),s=i("#xubox_moves, #xubox_shade"+n);if(r.attr("type")==e.type[1])if(r.find(".xuboxPageHtml")[0])r.remove();else{r.find(".xubox_close,.xubox_botton,.xubox_title,.xubox_border").remove();for(var u=0;u<3;u++)r.find(".layer_pageContent").unwrap().hide()}else document.all&&r.find("#"+t.ifr+n).remove(),r.remove();s.remove(),layer.ie6&&e.reselect(),typeof o.config.end[n]=="function"&&o.config.end[n](),delete o.config.end[n]},layer.loadClose=function(){var e=i(".xubox_loading").parents("."+t.lay),n=e.attr("times");layer.close(n)},layer.shift=function(t,n){var r=e.config,i=layer.ie6,o=e.layerE,u=0,a=s.width(),f=s.height();r.offset[1]=="50%"||r.offset[1]==""?u=o.outerWidth()/2:u=o.outerWidth();var l={t:{top:r.border[0]},b:{top:f-o.outerHeight()-r.border[0]},cl:u+r.border[0],ct:-o.outerHeight(),cr:a-u-r.border[0],fn:function(){i&&e.IE6()}};switch(t){case"left-top":o.css({left:l.cl,top:l.ct}).animate(l.t,n,l.fn);break;case"top":o.css({top:l.ct}).animate(l.t,n,l.fn);break;case"right-top":o.css({left:l.cr,top:l.ct}).animate(l.t,n,l.fn);break;case"right-bottom":o.css({left:l.cr,top:f}).animate(l.b,n,l.fn);break;case"bottom":o.css({top:f}).animate(l.b,n,l.fn);break;case"left-bottom":o.css({left:l.cl,top:f}).animate(l.b,n,l.fn);break;case"left":o.css({left:-o.outerWidth(),marginLeft:0}).animate({left:l.t.top},n,l.fn)}},layer.setMove=function(){return e.move()},layer.area=function(n,r){var s=[i("#"+t.lay+n),i("#xubox_border"+n)],o=s[0].attr("type"),u=s[0].find(".xubox_main"),a=s[0].find(".xubox_title");if(o===e.type[1]||o===e.type[2]){s[0].css(r),u.css({height:r.height});if(o===e.type[2]){var f=s[0].find("iframe");f.css({width:r.width,height:a?r.height-a.outerHeight():r.height})}s[0].css("margin-left")!=="0px"&&(r.hasOwnProperty("top")&&s[0].css({top:r.top-(s[1][0]&&parseInt(s[1].css("top")))}),r.hasOwnProperty("left")&&s[0].css({left:r.left+s[0].outerWidth()/2-(s[1][0]&&parseInt(s[1].css("left")))}),s[0].css({marginLeft:-s[0].outerWidth()/2})),s[1][0]&&s[1].css({width:parseFloat(r.width)-2*parseInt(s[1].css("left")),height:parseFloat(r.height)-2*parseInt(s[1].css("top"))})}},layer.closeAll=function(){var e=i("."+t.lay);i.each(e,function(){var e=i(this).attr("times");layer.close(e)})},layer.closeTips=function(){var e=i(".xubox_tips");e[0]&&layer.close(e.parents(".xubox_layer").attr("times"))},layer.iframeSrc=function(e,n){i("#"+t.lay+e).find("iframe").attr("src",n)},layer.zIndex=e.config.zIndex,layer.setTop=function(e){var t=function(){layer.zIndex++,e.css("z-index",layer.zIndex+1)};return layer.zIndex=parseInt(e[0].style.zIndex),e.on("mousedown",t),layer.zIndex}},o.run=function(){i=jQuery,s=i(e),layer.use("skin/layer.css"),i.layer=function(e){var t=new u(e);return t.index}};var a="../../init/jquery";e.seajs?define([a],function(t,n,r){o.run(),n.layer=[e.layer,e.$.layer]}):o.run()}(window)